<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Readme Driven Development for an A/B testing analysis package | Evgeny Ivanov</title><link href=/favicon.svg rel=icon type=image/svg+xml><link href=/favicon.png rel=apple-touch-icon><link href=/favicon.ico rel=icon sizes=32x32><meta content="tea-tasting: a Python package for statistical analysis of A/B tests. Adopting the Readme Driven Development approach." name=description><meta content="Evgeny Ivanov" name=author><meta content="Readme Driven Development for an A/B testing analysis package" property=og:title><meta content="tea-tasting: a Python package for statistical analysis of A/B tests. Adopting the Readme Driven Development approach." property=og:description><meta content="Evgeny Ivanov" property=og:site_name><meta content=https://e10v.me/tea-tasting-rdd/ property=og:url><meta content=article property=og:type><meta content="Evgeny Ivanov" property=article:author><meta content=2023-12-11T00:00:00+00:00 property=article:published_time><meta content=2023-12-11T00:00:00+00:00 property=article:modified_time><meta content="a/b testing" property=article:tag><meta content=statistics property=article:tag><meta content=tea-tasting property=article:tag><meta content=python property=article:tag><meta content=/tea-tasting-rdd/lady-tasting-tea.png property=og:image><meta content=summary_large_image name=twitter:card><meta content=/tea-tasting-rdd/lady-tasting-tea.png name=twitter:image><meta content="Readme Driven Development for an A/B testing analysis package" name=twitter:title><meta content="tea-tasting: a Python package for statistical analysis of A/B tests. Adopting the Readme Driven Development approach." name=twitter:description><meta content=@e10v_me name=twitter:site><meta content=@e10v_me name=twitter:creator><link href=https://e10v.me/tea-tasting-rdd/ rel=canonical><link title="Evgeny Ivanov" href=/atom.xml rel=alternate type=application/atom+xml><link title="Evgeny Ivanov" href=/rss.xml rel=alternate type=application/rss+xml><link crossorigin href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css integrity=sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB rel=stylesheet><link href=/giallo-dark.css id=syntax-highlight rel=stylesheet><link href=/css/style.css rel=stylesheet><script src=/js/color-modes.js></script><body><div class="container mb-5"><header><nav class="navbar navbar-expand-sm"><button aria-label="Toggle navigation" aria-controls=navbarSupportedContent aria-expanded=false class=navbar-toggler data-bs-target=#navbarSupportedContent data-bs-toggle=collapse type=button><span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav me-auto"><li class=nav-item><a class="nav-link ps-0" href=/>Posts</a><li class=nav-item><a class=nav-link href=/highlights>Highlights</a><li class=nav-item><a class=nav-link href=/tags>Tags</a><li class=nav-item><a class=nav-link href=/about>About</a></ul><hr class="d-sm-none my-2"><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://github.com/e10v target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>GitHub</title><use href=/icons.svg#github></use></svg> <span class="d-sm-none ms-1">GitHub</span> </a><li class=nav-item><a class=nav-link href=https://www.linkedin.com/in/evgenyivanov target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><use href=/icons.svg#linkedin></use></svg> <span class="d-sm-none ms-1">LinkedIn</span> </a><li class=nav-item><a class=nav-link href=https://t.me/e10v_me target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>Telegram</title><use href=/icons.svg#telegram></use></svg> <span class="d-sm-none ms-1">Telegram</span> </a><li class="nav-item pt-2 pb-1"><div class="vr d-none d-sm-flex h-100 mx-2"></div> <hr class="d-sm-none my-2"><li class="nav-item dropdown"><button aria-label="Toggle theme (auto)" class="nav-link dropdown-toggle pe-0" aria-expanded=false data-bs-display=static data-bs-toggle=dropdown id=bd-theme type=button><svg class="bi theme-icon-active" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#circle-half></use></svg> <span class="d-sm-none ms-1" id=bd-theme-text>Theme</span></button> <ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button class="dropdown-item d-flex align-items-center" aria-pressed=true data-bs-theme-value=auto type=button><svg class="bi me-2 theme-icon" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#circle-half></use></svg> Auto <svg class="bi ms-auto d-none" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#check2></use></svg></button><li><button class="dropdown-item d-flex align-items-center" aria-pressed=false data-bs-theme-value=light type=button><svg class="bi me-2 theme-icon" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#sun-fill></use></svg> Light <svg class="bi ms-auto d-none" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#check2></use></svg></button><li><button class="dropdown-item d-flex align-items-center" aria-pressed=false data-bs-theme-value=dark type=button><svg class="bi me-2 theme-icon" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#moon-stars-fill></use></svg> Dark <svg class="bi ms-auto d-none" viewbox="0 0 16 16" fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><use href=/icons.svg#check2></use></svg></button></ul></ul></div></nav></header><main><article><h1 class=mb-4>Readme Driven Development for an A/B testing analysis package</h1><p class="mb-3 tag"><small class="text-secondary me-1"><time datetime=2023-12-11T00:00:00+00:00>Dec 11, 2023</time></small> <small><a class="bg-body-secondary py-1 px-2 rounded-2" href=https://e10v.me/tags/a-b-testing/>a/b testing</a></small> <small><a class="bg-body-secondary py-1 px-2 rounded-2" href=https://e10v.me/tags/statistics/>statistics</a></small> <small><a class="bg-body-secondary py-1 px-2 rounded-2" href=https://e10v.me/tags/tea-tasting/>tea-tasting</a></small> <small><a class="bg-body-secondary py-1 px-2 rounded-2" href=https://e10v.me/tags/python/>python</a></small><h2 class=h2 id=tea-tasting-statistical-analysis-of-a-b-tests>tea-tasting: statistical analysis of A/B tests <a aria-label="Anchor link for: tea-tasting-statistical-analysis-of-a-b-tests" class=anchor-link href=#tea-tasting-statistical-analysis-of-a-b-tests>#</a></h2><p>tea-tasting is a Python package for statistical analysis of A/B tests that features:<ul><li>Student's t-test, Z-test, and Bootstrap out of the box.<li>Extensible API: Define and use statistical tests of your choice.<li><a rel="noopener external" href=https://alexdeng.github.io/public/files/kdd2018-dm.pdf target=_blank>Delta method</a> for ratio metrics.<li>Variance reduction with <a rel="noopener external" href=https://exp-platform.com/Documents/2013-02-CUPED-ImprovingSensitivityOfControlledExperiments.pdf target=_blank>CUPED</a>/<a rel="noopener external" href=https://doordash.engineering/2020/06/08/improving-experimental-power-through-control-using-predictions-as-covariate-cupac/ target=_blank>CUPAC</a> (also in combination with delta method for ratio metrics).<li><a rel="noopener external" href=https://en.wikipedia.org/wiki/Fieller%27s_theorem target=_blank>Fieller's confidence interval</a> for percent change.<li>Sample ratio mismatch check.<li>Power analysis.<li>A/A tests.</ul><p>Currently, tea-tasting is in the planning stage, and I'm starting with a README that outlines the proposed API — an approach known as Readme Driven Development (RDD).<p>In this blog post, I'll explain the motivation for creating this package and the benefits of the RDD approach.<p>Explore the README <a rel="noopener external" href=https://github.com/e10v/tea-tasting/tree/v0.0.1#readme target=_blank>here</a>.<p>I welcome your insights! If you have any suggestions, questions, or ideas for alternative designs, please join the <a rel="noopener external" href=https://github.com/e10v/tea-tasting/discussions/6 target=_blank>conversation</a> on GitHub.<h2 class=h2 id=why-a-new-package>Why a new package? <a aria-label="Anchor link for: why-a-new-package" class=anchor-link href=#why-a-new-package>#</a></h2><p>One might wonder why there's a need for a new package like tea-tasting when there are already SciPy and statsmodels available. Both of these are general-purpose statistical packages offering a wide range of statistical tests. However, they lack certain methods that are specific to A/B test analysis.<p>tea-tasting aims to fill this gap. For example, it includes methods such as the delta method for ratio metrics, CUPED/CUPAC for variance reduction, and methods for calculating confidence intervals for percentage changes.<p>The intention behind tea-tasting is not only to automate the analysis process but also to reduce the probability of making a mistake. Statistical analysis of A/B tests can be challenging, with many opportunities for errors. tea-tasting is designed to mitigate these risks.<p>Many companies develop in-house platforms for A/B testing, but these platforms often don't cover every scenario, such as non-standard randomization units used in cluster-level or switchback experiments, or the analysis of new metrics not yet integrated into the platform. tea-tasting is also useful in these cases.<p>In summary, tea-tasting is designed for a more specialized, error-minimizing approach to A/B testing analysis, filling in the gaps left by existing general-purpose statistical packages.<h2 class=h2 id=package-name>Package name <a aria-label="Anchor link for: package-name" class=anchor-link href=#package-name>#</a></h2><p>The package name "tea-tasting" is a play on words that refers to two subjects:<ul><li><a rel="noopener external" href=https://en.wikipedia.org/wiki/Lady_tasting_tea target=_blank>Lady tasting tea</a> is a famous experiment which was devised by Ronald Fisher. In this experiment, Fisher developed the null hypothesis significance testing framework to analyze a lady's claim that she could discern whether the tea or the milk was added first to a cup.<li>"tea-tasting" phonetically resembles "t-testing" or Student's t-test, a statistical test developed by William Gosset.</ul><figure class="figure text-center mx-auto d-block mb-4"><img alt="Lady tasting tea by DALL-E" class="figure-img img-fluid mb-0 me-5 mt-3" src=https://e10v.me/tea-tasting-rdd/lady-tasting-tea-small.png><figcaption class=figure-caption><p>Lady tasting tea by DALL-E</p></figcaption></figure><h2 class=h2 id=readme-driven-development>Readme Driven Development <a aria-label="Anchor link for: readme-driven-development" class=anchor-link href=#readme-driven-development>#</a></h2><p>Readme Driven Development (RDD) is a software development approach where you start by writing the README file first, before writing any code. The idea is similar to Amazon's <a rel="noopener external" href=https://www.allthingsdistributed.com/2006/11/working_backwards.html target=_blank>Working Backwards</a> approach, where a press release is drafted <em>before</em> starting a new product.<p>Writing a README encourages thinking from a user's perspective, focusing on how users will interact with the API. It allows for better project planning. You don't need to revise the code every time you decide to include something in the public API.<p>Don't confuse RDD with the Waterfall approach. It's not about creating exhaustive specifications or detailed documentation upfront. In fact, with tea-tasting, I might have gone a bit deeper into details than usual, but this was a conscious choice to thoroughly plan the package's functionality.<p>To learn more about RDD, I recommend reading Tom Preston-Werner's <a rel="noopener external" href=https://tom.preston-werner.com/2010/08/23/readme-driven-development target=_blank>blog post</a>.<h2 class=h2 id=request-for-feedback>Request for feedback <a aria-label="Anchor link for: request-for-feedback" class=anchor-link href=#request-for-feedback>#</a></h2><p>One of the key benefits of Readme Driven Development (RDD) is the ability to adapt design choices with minimal cost. After reviewing the <a rel="noopener external" href=https://github.com/e10v/tea-tasting/tree/v0.0.1#readme target=_blank>README</a>, you might have insights that could enhance this project. It could be anything from improved naming conventions and additional features to an entirely different API approach.<p>Your perspective is valuable! If the concept of this package interests you and you have ideas for its design, I encourage you to <a rel="noopener external" href=https://github.com/e10v/tea-tasting/discussions/6 target=_blank>share your thoughts</a> on GitHub. Let's collaborate to make tea-tasting as effective and user-friendly as possible.<h2 class=h2 id=p-s-can-chatgpt-write-a-python-package>P.S. Can ChatGPT write a Python package? <a aria-label="Anchor link for: p-s-can-chatgpt-write-a-python-package" class=anchor-link href=#p-s-can-chatgpt-write-a-python-package>#</a></h2><p>Tom Preston-Werner wrote his blog post in 2010. There were no LLMs at that time. Thinking about RDD in 2023, I couldn't resist asking ChatGPT to write the package code based on README.<p>Well, not quite yet. ChatGPT resisted performing a large task at once. After I insisted, ChatGPT started implementing it class by class. In the first class, it started hallucinating about the SciPy API. I gave up shortly.<p>For those interested in how this experiment unfolded, you can view the entire conversation here: <a rel="noopener external" href=https://chat.openai.com/share/470ba67f-b697-47b8-8590-47ba46ab35dc target=_blank>chat</a>.<p class=my-4>© Evgeny Ivanov 2023</article></main><footer><p class=my-4>Follow me on:<a class="link-body-emphasis ms-2" href=https://www.linkedin.com/in/evgenyivanov target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><use href=/icons.svg#linkedin></use></svg> <span class=d-sm-none>LinkedIn</span> </a><a class="link-body-emphasis ms-2" href=https://x.com/e10v_me target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>X (Twitter)</title><use href=/icons.svg#twitter-x></use></svg> <span class=d-sm-none>X (Twitter)</span> </a><a class="link-body-emphasis ms-2" href=https://bsky.app/profile/e10v.me target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>Bluesky</title><use href=/icons.svg#bluesky></use></svg> <span class=d-sm-none>Bluesky</span> </a><a class="link-body-emphasis ms-2" href=https://t.me/e10v_me target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>Telegram</title><use href=/icons.svg#telegram></use></svg> <span class=d-sm-none>Telegram</span> </a><a class="link-body-emphasis ms-2" href=/atom.xml target=_blank> <svg viewbox="0 0 16 16" class=bi fill=currentColor height=16 width=16 xmlns=http://www.w3.org/2000/svg><title>Atom</title><use href=/icons.svg#rss-fill></use></svg> <span class=d-sm-none>Atom</span> </a></footer><div id=comments><script async crossorigin data-category=Announcements data-category-id=DIC_kwDOKD9-Dc4CmKHr data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=title data-reactions-enabled=1 data-repo=e10v/e10v.github.io data-repo-id=R_kgDOKD9-DQ data-strict=1 data-theme=preferred_color_scheme src=https://giscus.app/client.js></script></div></div><script crossorigin integrity=sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js></script>